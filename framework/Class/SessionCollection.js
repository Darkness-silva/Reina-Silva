function a66_0x4f26(_0x45054b,_0xaf6562){const _0x15e5f6=a66_0x54c8();return a66_0x4f26=function(_0x1180ac,_0xfd3967){_0x1180ac=_0x1180ac-0x13d;let _0x54c89e=_0x15e5f6[_0x1180ac];if(a66_0x4f26['jYFfJW']===undefined){var _0x4f26cb=function(_0x1cfcb6){const _0x49889f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x525cd8='',_0x56151c='',_0x2894c0=_0x525cd8+_0x4f26cb;for(let _0x41c57b=0x0,_0x45cd7d,_0x3f4ed1,_0x4b2a81=0x0;_0x3f4ed1=_0x1cfcb6['charAt'](_0x4b2a81++);~_0x3f4ed1&&(_0x45cd7d=_0x41c57b%0x4?_0x45cd7d*0x40+_0x3f4ed1:_0x3f4ed1,_0x41c57b++%0x4)?_0x525cd8+=_0x2894c0['charCodeAt'](_0x4b2a81+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x45cd7d>>(-0x2*_0x41c57b&0x6)):_0x41c57b:0x0){_0x3f4ed1=_0x49889f['indexOf'](_0x3f4ed1);}for(let _0x221d33=0x0,_0x3ae09b=_0x525cd8['length'];_0x221d33<_0x3ae09b;_0x221d33++){_0x56151c+='%'+('00'+_0x525cd8['charCodeAt'](_0x221d33)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x56151c);};a66_0x4f26['qKLLGL']=_0x4f26cb,_0x45054b=arguments,a66_0x4f26['jYFfJW']=!![];}const _0x159063=_0x15e5f6[0x0],_0x374ab6=_0x1180ac+_0x159063,_0x58ecf1=_0x45054b[_0x374ab6];if(!_0x58ecf1){const _0xc5ddb=function(_0x181488){this['isLmWE']=_0x181488,this['gXgtxe']=[0x1,0x0,0x0],this['DlePdL']=function(){return'newState';},this['thgRhQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['oRFqgx']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xc5ddb['prototype']['myoDoa']=function(){const _0x1790e9=new RegExp(this['thgRhQ']+this['oRFqgx']),_0x2d799a=_0x1790e9['test'](this['DlePdL']['toString']())?--this['gXgtxe'][0x1]:--this['gXgtxe'][0x0];return this['scxkur'](_0x2d799a);},_0xc5ddb['prototype']['scxkur']=function(_0x5833f1){if(!Boolean(~_0x5833f1))return _0x5833f1;return this['ovxVLr'](this['isLmWE']);},_0xc5ddb['prototype']['ovxVLr']=function(_0x56e49c){for(let _0x41e27c=0x0,_0x4b0434=this['gXgtxe']['length'];_0x41e27c<_0x4b0434;_0x41e27c++){this['gXgtxe']['push'](Math['round'](Math['random']())),_0x4b0434=this['gXgtxe']['length'];}return _0x56e49c(this['gXgtxe'][0x0]);},new _0xc5ddb(a66_0x4f26)['myoDoa'](),_0x54c89e=a66_0x4f26['qKLLGL'](_0x54c89e),_0x45054b[_0x374ab6]=_0x54c89e;}else _0x54c89e=_0x58ecf1;return _0x54c89e;},a66_0x4f26(_0x45054b,_0xaf6562);}function a66_0x54c8(){const _0x1c35eb=['BvLuvvO','yvvpsva','mtmZqvLdtwDu','kcGOlISPkYKRksSK','tu5xueW','mtK2nduWyuTTDwvm','Dg9tDhjPBMC','nJeXodHcB0TQy0e','zxHWB3j0CW','mtm2nZm5mwPVtvHQBG','Bg9HzhneB2nZ','ywrKu2vZC2LVBG','yxbWBhK','C2HVDwXKuMvSB2fKu2vZC2LVBG','mte2qMDSDe5L','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','zerAAKS','mtbrC1Lruvm','CMvTB3zLrg9JC0zYB21jza','C2vZC2LVBKfWAq','wuT2Beq','zg1IruG','C2vHCMnO','l3nLC3nPB24V','mtiXodG2mtLdyNnSDuy','DvbbDxq','nJm3ndbHEg9gv3y','mZCZntK4nhDABK9WBW','nJC2mdm0shf2sxfn','CMvSB2fKu2vZC2LVBG','z2v0u2vZC2LVBG','yxHPB3m','zgf0yq','vhDuCKC'];a66_0x54c8=function(){return _0x1c35eb;};return a66_0x54c8();}const a66_0x17e122=a66_0x4f26;(function(_0x17d818,_0x5dc2de){const _0x3f224c=a66_0x4f26,_0x26be8d=_0x17d818();while(!![]){try{const _0x30404e=-parseInt(_0x3f224c(0x14a))/0x1+-parseInt(_0x3f224c(0x13f))/0x2+parseInt(_0x3f224c(0x14e))/0x3+parseInt(_0x3f224c(0x153))/0x4*(-parseInt(_0x3f224c(0x13d))/0x5)+parseInt(_0x3f224c(0x14c))/0x6*(-parseInt(_0x3f224c(0x147))/0x7)+-parseInt(_0x3f224c(0x13e))/0x8+-parseInt(_0x3f224c(0x15d))/0x9*(-parseInt(_0x3f224c(0x156))/0xa);if(_0x30404e===_0x5dc2de)break;else _0x26be8d['push'](_0x26be8d['shift']());}catch(_0x611bce){_0x26be8d['push'](_0x26be8d['shift']());}}}(a66_0x54c8,0x3bdb1));const a66_0xfd3967=(function(){let _0x564cba=!![];return function(_0x287cb0,_0x271440){const _0x3573f2=_0x564cba?function(){const _0x5d886d=a66_0x4f26;if(_0x271440){const _0x3ff2c2=_0x271440[_0x5d886d(0x151)](_0x287cb0,arguments);return _0x271440=null,_0x3ff2c2;}}:function(){};return _0x564cba=![],_0x3573f2;};}()),a66_0x1180ac=a66_0xfd3967(this,function(){const _0x3a73b7=a66_0x4f26,_0x156a34={'MNWPL':_0x3a73b7(0x148)};return a66_0x1180ac[_0x3a73b7(0x14b)]()['search']('(((.+)+)+)+$')[_0x3a73b7(0x14b)]()['constructor'](a66_0x1180ac)[_0x3a73b7(0x15b)](_0x156a34[_0x3a73b7(0x149)]);});a66_0x1180ac();const sessionDb=require('../../bdd/session'),authDb=require('../../bdd/auth'),axios=require(a66_0x17e122(0x142));class SessionManager{[a66_0x17e122(0x158)]=a66_0x17e122(0x154);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x6f5ef2,_0x10bfd9=null){const _0x368c3c=a66_0x17e122,_0x50e498={'uPAut':function(_0x51cc2c,_0x58572c){return _0x51cc2c==_0x58572c;},'bCvPu':function(_0x2dfc66,_0x453404){return _0x2dfc66===_0x453404;},'aUOIP':'kVUOa'};this.#userId=_0x6f5ef2,this.#userSession=_0x10bfd9;const _0x40266e=sessionDb[_0x368c3c(0x141)](this.#userId);if(!_0x40266e){sessionDb['addSession'](_0x6f5ef2,this.#userSession);if(_0x10bfd9)this.#shouldReloadSession=!![];return;}if(_0x50e498['uPAut'](_0x40266e?.['id'],this.#userSession)){if(_0x50e498['bCvPu'](_0x368c3c(0x15a),_0x50e498[_0x368c3c(0x146)]))return _0x5c5d11[_0x368c3c(0x143)]['documents'];else{if(_0x50e498[_0x368c3c(0x15e)](_0x10bfd9,null))return;return this.#checkIfShouldReconnect();}}authDb[_0x368c3c(0x157)](this.#userId),sessionDb[_0x368c3c(0x150)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x5c0ab1){const _0x201bb8=a66_0x17e122,_0x22dd2f={'YbICn':function(_0xd55dc1,_0x580e79){return _0xd55dc1!==_0x580e79;},'YKvlD':_0x201bb8(0x144),'mYTUZ':_0x201bb8(0x155)},_0x24ed43=await axios['get'](this[_0x201bb8(0x158)]+_0x201bb8(0x15c)+_0x5c0ab1+'?remove=true');if(_0x24ed43?.[_0x201bb8(0x143)]?.['found']){if(_0x22dd2f['YbICn'](_0x22dd2f[_0x201bb8(0x159)],_0x22dd2f[_0x201bb8(0x145)]))return _0x24ed43[_0x201bb8(0x143)]['documents'];else{const _0x473dab=_0x163195[_0x201bb8(0x151)](_0x59156e,arguments);return _0x52dd7d=null,_0x473dab;}}else throw new Error();}get[a66_0x17e122(0x152)](){return this.#shouldReloadSession;}async[a66_0x17e122(0x140)](){const _0x463099=a66_0x17e122,_0x355fef=await this['fetchForDocs'](this.#userSession);authDb[_0x463099(0x14f)](this.#userId,_0x355fef);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module[a66_0x17e122(0x14d)]=SessionManager;